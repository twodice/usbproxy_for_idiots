USBProxy for morons
A beginners guide for USBProxy/usb-mitm intended for absolute beginners with minimal preexisting experience.



Read this and other docs first
	Read this the whole way before you do anything else, it may cost less this way.
	Watch dominicgs's Shmoocon presentation about usb-mitm on youtube
		https://www.youtube.com/watch?v=5JnAeakUBnU
	French guide is broken but may be of use
		http://gimx.fr/wiki/index.php?title=Bbb_sniffer
	Official Github page
		https://github.com/dominicgs/USBProxy


Obtain hardware needed
	Shopping list
		BeagleBoneBlack
		USB hub (BBB has only one USB host port)
		Power supply(s) for BBB & USB hub (5V)
		Asst USB cables
		Ethernet cable
		MicroSD card (4gb or above. Ebay ones might be fake. Local electronics/office shops are much easier to return faulty hardware to.)
		MicroSD reader (Cheap USB SD/MicroSD readers are a few dollars including shipping on Ebay.)
		Display with HDMI input
		HDMI cable (MicroHDMI to whatever your screen uses)
		Proper USB keyboard & mouse (trust me, you don't want to this using a media center keyboard/mouse combo)


Set up hardware
	Unbox
	Plug USB hub into BBB
	Plug keyboard and mouse into USB hub
	Plug BBB into your display
	Plug BBB and USB hub into power supply(s)
	Plug BBB into your computer
	

Get image file
	From github:
		https://github.com/dominicgs/USBProxy
		https://github.com/dominicgs/USBProxy/releases
		https://github.com/dominicgs/USBProxy/releases/download/2014-03-R1/Debian-USBProxy.img.xz
	Extract the image file:
		TODO FIXME


Flash image to SD card
	Windows:
		TODO FIXME
	Ubuntu:
		TODO FIXME


Turn on BBB
	Put MicroSD card into BBB (You may need to temporarily unplug the HDMI cable to do this)
	Turn on your display and make sure it's set to the HDMI input you plugged the BBB into
	Press buttons on BBB then wait a while


Log in to BBB
	USERNAME: "debian"
	PASSWORD: "temppwd"


Find out your BBB's IP address
	Run this command on the BBB
		ifconfig
	It will probably be something similar to 192.168.x.x
	Copy your one down.
	This address may change if you power off or disconnect your BBB


Build source on image
	Run these commands on the BBB in this order
		cd ~/USBProxy/src/
		make


Connect via SSH
	This lets us keep giving commands
	USB port won't be any good to control the BBB once we run usb-mitm
	Windows:
		PuTTY:
			Install PuTTY
			Start PuTTY
			Set "Host Name (or IP address)" field to the IP address of the BBB (Found using an earlier section)
			Port should be "22"
			Connection type should be "SSH"
			Click the open button at the bottom.
			When prompted to, type in the username "debian" and then press enter/return
			When prompted to, type in the username "temppwd" and then press enter/return
			The bottommost line should now show "debian@arm:~$"
			You are now connected and logged in to the BBB via SSH
	Ubuntu:
		TODO FIXME


Run usb-mitm
	Needs to be run with elevated priveliges
	-l makes captured data print to console
	Run this command:
		sudo ./~/USBProxy/src/usb-mitm -l


Interpret data
	???
	I'm still learning to do this.